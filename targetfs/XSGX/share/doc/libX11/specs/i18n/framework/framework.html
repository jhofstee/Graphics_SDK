<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>X11R6 Sample Implementation Frame Work</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /></head><body><div class="book" title="X11R6 Sample Implementation Frame Work"><div class="titlepage"><div><div><h1 class="title"><a id="framework"></a>X11R6 Sample Implementation Frame Work</h1></div><div><div class="authorgroup"><div class="othercredit"><h3 class="othercredit"><span class="firstname">Katsuhisa</span> <span class="surname">Yano</span></h3><div class="affiliation"><span class="orgname">TOSHIBA Corporation<br /></span></div></div><div class="othercredit"><h3 class="othercredit"><span class="firstname">Yoshio</span> <span class="surname">Horiuchi</span></h3><div class="affiliation"><span class="orgname">IBM Japan<br /></span></div></div></div></div><div><p class="releaseinfo">X Version 11, Release 7</p></div><div><p class="copyright">Copyright © 1994 TOSHIBA Corporation</p></div><div><p class="copyright">Copyright © 1994 IBM Corporation</p></div><div><div class="legalnotice" title="Legal Notice"><a id="id2847773"></a><p>
Permission to use, copy, modify, and distribute this documentation for any purpose and without fee is hereby granted,
provided that the above copyright notice and this permission notice appear in all copies. TOSHIBA Corporation and
IBM Corporation make no representations about the suitability for any purpose of the information in this document.
This documentation is provided as is without express or implied warranty.
</p><p>
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files
(the "Software"), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to permit
persons to whom the Software is furnished to do so, subject to the following
conditions:
</p><p>
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
</p><p>
THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN
NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
</p><p>
Except as contained in this notice, the name of The Open Group shall not
be used in advertising or otherwise to promote the sale, use or other dealings
in this Software without prior written authorization from X Consortium.
</p><p>X Window System is a trademark of The Open Group.</p></div></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#framework_">1. Framework</a></span></dt><dd><dl><dt><span class="sect1"><a href="#preface">Preface</a></span></dt><dt><span class="sect1"><a href="#Objective">Objective</a></span></dt><dt><span class="sect1"><a href="#Locale_Object_Binding_Functions">Locale Object Binding Functions</a></span></dt><dt><span class="sect1"><a href="#Locale_Method_Interface">Locale Method Interface</a></span></dt><dt><span class="sect1"><a href="#Locale_Method_Functions">Locale Method Functions</a></span></dt><dt><span class="sect1"><a href="#Charset_functions">Charset functions</a></span></dt><dt><span class="sect1"><a href="#Converter_Functions">Converter Functions</a></span></dt><dt><span class="sect1"><a href="#X_Locale_Database_functions">X Locale Database functions</a></span></dt><dt><span class="sect1"><a href="#Utility_Functions">Utility Functions</a></span></dt></dl></dd></dl></div><div class="chapter" title="Chapter 1. Framework"><div class="titlepage"><div><div><h2 class="title"><a id="framework_"></a>Chapter 1. Framework</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="#preface">Preface</a></span></dt><dt><span class="sect1"><a href="#Objective">Objective</a></span></dt><dt><span class="sect1"><a href="#Locale_Object_Binding_Functions">Locale Object Binding Functions</a></span></dt><dt><span class="sect1"><a href="#Locale_Method_Interface">Locale Method Interface</a></span></dt><dt><span class="sect1"><a href="#Locale_Method_Functions">Locale Method Functions</a></span></dt><dt><span class="sect1"><a href="#Charset_functions">Charset functions</a></span></dt><dt><span class="sect1"><a href="#Converter_Functions">Converter Functions</a></span></dt><dt><span class="sect1"><a href="#X_Locale_Database_functions">X Locale Database functions</a></span></dt><dt><span class="sect1"><a href="#Utility_Functions">Utility Functions</a></span></dt></dl></div><div class="sect1" title="Preface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="preface"></a>Preface</h2></div></div></div><p>
This document proposes to define the structures, methods and their
signatures that are expected to be common to all locale dependent
functions within the Xlib sample implementation.  The following
illustration (Fig.1)  is proposed to outline the separating of
the components within the sample implementation.
</p><p>
Preface drawing.
</p><div class="mediaobject"><a id="framework_locale_service_api_proposal"></a><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="540"><tr style="height: 530px"><td><object type="image/svg+xml" data="framework.svg" width="560" height="550"></object></td></tr></table><div class="caption">Frame work of Locale Service API Proposal</div></div><p>
Generally speaking, the internationalized portion of Xlib (Locale
Dependent X, LDX) consists of three objects;
locale (LC) , input method (IM) and output method (OM).
The LC provides a set of information that depends on user's language
environment.  The IM manages text inputing, and the OM manages text
drawing.  Both IM and OM highly depend on LC data.
</p><p>
In X11R5, there are two sample implementations, Ximp and Xsi, for
Xlib internationalization.  But in both implementations, IM and OM
actually refer the private extension of LC.  It breaks coexistence
of these two sample implementations.  For example, if a user creates
a new OM for special purpose as a part of Ximp, it will not work with
Xsi.
</p><p>
As a solution of this problem, we propose to define the standard
APIs between these three objects, and define the structure that are
common to these objects.
</p></div><div class="sect1" title="Objective"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Objective"></a>Objective</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
Explain the current X11R6 sample implementation
    </p></li><li class="listitem"><p>
Document the common set of locale dependent interfaces
    </p></li><li class="listitem"><p>
Provide more flexible pluggable layer
    </p></li></ul></div></div><div class="sect1" title="Locale Object Binding Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Locale_Object_Binding_Functions"></a>Locale Object Binding Functions</h2></div></div></div><p>
This chapter describes functions related locale object binding for
implementing the pluggable layer.
</p><p>
A locale loader is an entry point for locale object, which
instantiates XLCd object and binds locale methods with specified
locale name. The behavior of loader is implementation dependent.
And, what kind of loaders are available is also implementation
dependent.
</p><p>

The loader is called in
<code class="function">_XOpenLC, </code>
but caller of
<code class="function">_XOpenLC </code>
does not need to care about its inside.  For example, if the loader is
implemented with dynamic load functions, and the dynamic module is
expected to be unloaded when the corresponding XLCd is freed,
close methods of XLCdMethods should handle unloading.
</p><p>
<span class="bold"><strong>Initializing a locale loader list</strong></span>
</p><p>void _XlcInitLoader</p><p>
The
<code class="function">_XlcInitLoader</code>
function initializes the locale loader list with vendor specific
manner.  Each loader is registered with calling
<code class="function">_XlcAddLoader.</code>
The number of loaders and their order in the loader list is
implementation dependent.
</p><p>
<span class="bold"><strong>Add a loader</strong></span>
</p><div class="literallayout"><p><br />
typedef XLCd (*XLCdLoadProc)(<span class="emphasis"><em>name</em></span>);<br />
      char <span class="emphasis"><em>*name</em></span>;<br />
<br />
typedef int XlcPosition;<br />
<br />
#define   XlcHead<br />
#define   XlcTail<br />
</p></div><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">Bool <b class="fsfunc"> _XlcAddLoader</b>(</code></td><td><var class="pdparam"> proc</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> position</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCdLoadProc<var class="pdparam"> proc</var></code>;<br /><code>XlcPosition<var class="pdparam"> position</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcAddLoader</code>
function registers the specified locale loader "<span class="emphasis"><em>proc</em></span>" to the
internal loader list.  The position specifies that the loader
"<span class="emphasis"><em>proc</em></span>" should be placed in the top of the loader list(XlcHead)
or last(XlcTail).
</p><p>
The object loader is called from the top of the loader list in order,
when calling time.
</p><p>
<code class="function">Remove a loader</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcRemoveLoader</b>(</code></td><td><var class="pdparam"> proc</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCdLoadProc<var class="pdparam"> proc</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcRemoveLoader</code>
function removes the locale loader specified by "<span class="emphasis"><em>proc</em></span>" from the
loader list.
</p><p>
Current implementation provides following locale loaders;
</p><div class="literallayout"><p><br />
<code class="function">_XlcDefaultLoader</code><br />
<code class="function">_XlcGenericLoader</code><br />
<code class="function">_XlcEucLoader</code><br />
<code class="function">_XlcSjisLoader</code><br />
<code class="function">_XlcUtfLoader</code><br />
<code class="function">_XaixOsDynamicLoad</code><br />
</p></div></div><div class="sect1" title="Locale Method Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Locale_Method_Interface"></a>Locale Method Interface</h2></div></div></div><p>
This chapter describes the locale method API, which is a set of
accessible functions from both IM and OM parts.
The locale method API provides the functionalities;  obtaining locale
dependent information, handling charset, converting text, etc.
</p><p>
As a result of using these APIs instead of accessing vender private
extension of the locale object, we can keep locale, IM and OM
independently each other.
</p></div><div class="sect1" title="Locale Method Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Locale_Method_Functions"></a>Locale Method Functions</h2></div></div></div><p>
<code class="function">Open a Locale Method</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">XLCd <b class="fsfunc"> _XOpenLC</b>(</code></td><td><var class="pdparam"> *name</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *name</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XOpenLC</code>
function opens a locale method which corresponds to the
specified locale name.
<code class="function">_XOpenLC</code>
calls a locale object loader, which is registered via
<code class="function">_XlcAddLoader into the internal loader list.  If the called loader </code>
is valid and successfully opens a locale,
<code class="function">_XOpenLC</code>
returns the XLCd.  If the loader is invalid or failed to open a locale,
<code class="function">_XOpenLC</code>
calls the next loader.  If all registered loaders cannot open a locale,
<code class="function">_XOpenLC</code>
returns NULL.
</p><p>XLCd _XlcCurrentLC</p><p>
The
<code class="function">_XlcCurrentLC</code>
function returns an XLCd that are bound to current locale.
</p><p>
<span class="bold"><strong>Close a Locale Method</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XCloseLC</b>(</code></td><td><var class="pdparam"> lcd</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>

The
<code class="function">_XCloseLC</code>
function close a locale method the specified lcd.
</p><p>
<span class="bold"><strong>Obtain Locale Method values</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">char *<b class="fsfunc">_XGetLCValues</b>(</code></td><td><var class="pdparam"> lcd</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XGetLCValues</code>
function returns NULL if no error occurred; otherwise, it returns the
name of the first argument that could not be obtained.
The following values are defined as standard arguments. Other values
are implementation dependent.
</p><div class="informaltable"><table border="0"><colgroup><col align="left" /><col align="left" /><col align="left" /></colgroup><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">XlcNCodeset</td><td align="left">char*</td><td align="left">codeset part of locale name</td></tr><tr><td align="left">XlcNDefaultString</td><td align="left">char*</td><td align="left">XDefaultString()</td></tr><tr><td align="left">XlcNEncodingName</td><td align="left">char*</td><td align="left">encoding name</td></tr><tr><td align="left">XlcNLanguage</td><td align="left">char*</td><td align="left">language part of locale name</td></tr><tr><td align="left">XlcNMbCurMax</td><td align="left">int</td><td align="left">ANSI C MB_CUR_MAX</td></tr><tr><td align="left">XlcNStateDependentEncoding</td><td align="left">Bool</td><td align="left">is state-dependent encoding or not</td></tr><tr><td align="left">XlcNTerritory</td><td align="left">char*</td><td align="left">territory part of locale name</td></tr></tbody></table></div></div><div class="sect1" title="Charset functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Charset_functions"></a>Charset functions</h2></div></div></div><p>
The XlcCharSet is an identifier which represents a subset of characters
(character set) in the locale object.
</p><pre class="literallayout">
typedef enum {
      XlcUnknown, XlcC0, XlcGL, XlcC1, XlcGR, XlcGLGR, XlcOther
} XlcSide;

typedef struct _XlcCharSetRec *XlcCharSet;

typedef struct {
      char *name;
      XPointer value;
} XlcArg, *XlcArgList;

typedef char* (*XlcGetCSValuesProc)(<span class="emphasis"><em>charset</em></span>, <span class="emphasis"><em>args</em></span>, <span class="emphasis"><em>num_args</em></span>);
      XlcCharSet <span class="emphasis"><em>charset</em></span>;
      XlcArgList <span class="emphasis"><em>args</em></span>;
      int <span class="emphasis"><em>num_args</em></span>;

typedef struct _XlcCharSetRec {
      char *name;
      XrmQuark xrm_name;
      char *encoding_name;
      XrmQuark xrm_encoding_name;
      XlcSide side;
      int char_size;
      int set_size;
      char *ct_sequence;
      XlcGetCSValuesProc get_values;
} XlcCharSetRec;
</pre><p>
<span class="bold"><strong>Get an XlcCharSet</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">XlcCharSet <b class="fsfunc"> _XlcGetCharSet</b>(</code></td><td><var class="pdparam"> *name</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *name</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcGetCharSet</code>
function gets an XlcCharSet which corresponds to the charset name
specified by "<span class="emphasis"><em>name</em></span>".
<code class="function">_XlcGetCharSet </code>
returns NULL, if no XlcCharSet bound to specified "<span class="emphasis"><em>name</em></span>".
</p><p>
The following character sets are pre-registered.
</p><div class="informaltable"><table border="0"><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">ISO8859-1:GL</td><td align="left">7-bit ASCII graphics (ANSI X3.4-1968),</td></tr><tr><td align="left"> </td><td align="left">Left half of ISO 8859 sets</td></tr><tr><td align="left">JISX0201.1976-0:GL</td><td align="left">Left half of JIS X0201-1976 (reaffirmed 1984),</td></tr><tr><td align="left"> </td><td align="left">8-Bit Alphanumeric-Katakana Code</td></tr><tr><td align="left">ISO8859-1:GR</td><td align="left">Right half of ISO 8859-1, Latin alphabet No. 1</td></tr><tr><td align="left">ISO8859-2:GR</td><td align="left">Right half of ISO 8859-2, Latin alphabet No. 2</td></tr><tr><td align="left">ISO8859-3:GR</td><td align="left">Right half of ISO 8859-3, Latin alphabet No. 3</td></tr><tr><td align="left">ISO8859-4:GR</td><td align="left">Right half of ISO 8859-4, Latin alphabet No. 4</td></tr><tr><td align="left">ISO8859-7:GR</td><td align="left">Right half of ISO 8859-7, Latin/Greek alphabet</td></tr><tr><td align="left">ISO8859-6:GR</td><td align="left">Right half of ISO 8859-6, Latin/Arabic alphabet</td></tr><tr><td align="left">ISO8859-8:GR</td><td align="left">Right half of ISO 8859-8, Latin/Hebrew alphabet</td></tr><tr><td align="left">ISO8859-5:GR</td><td align="left">Right half of ISO 8859-5, Latin/Cyrillic alphabet</td></tr><tr><td align="left">ISO8859-9:GR</td><td align="left">Right half of ISO 8859-9, Latin alphabet No. 5</td></tr><tr><td align="left">JISX0201.1976-0:GR</td><td align="left">Right half of JIS X0201-1976 (reaffirmed 1984),</td></tr><tr><td align="left"> </td><td align="left">8-Bit Alphanumeric-Katakana Code</td></tr><tr><td align="left">GB2312.1980-0:GL</td><td align="left">GB2312-1980, China (PRC) Hanzi defined as GL</td></tr><tr><td align="left">GB2312.1980-0:GR</td><td align="left">GB2312-1980, China (PRC) Hanzi defined as GR</td></tr><tr><td align="left">JISX0208.1983-0:GL</td><td align="left">JIS X0208-1983, Japanese Graphic Character Set</td></tr><tr><td align="left"> </td><td align="left">defined as GL</td></tr><tr><td align="left">JISX0208.1983-0:GR</td><td align="left">JIS X0208-1983, Japanese Graphic Character Set</td></tr><tr><td align="left"> </td><td align="left">defined as GR</td></tr><tr><td align="left">KSC5601.1987-0:GL</td><td align="left">KS C5601-1987, Korean Graphic Character Set</td></tr><tr><td align="left"> </td><td align="left">defined as GL</td></tr><tr><td align="left">KSC5601.1987-0:GR</td><td align="left">KS C5601-1987, Korean Graphic Character Set</td></tr><tr><td align="left"> </td><td align="left">defined as GR</td></tr><tr><td align="left">JISX0212.1990-0:GL</td><td align="left">JIS X0212-1990, Japanese Graphic Character Set</td></tr><tr><td align="left"> </td><td align="left">defined as GL</td></tr><tr><td align="left">JISX0212.1990-0:GR</td><td align="left">JIS X0212-1990, Japanese Graphic Character Set</td></tr><tr><td align="left"> </td><td align="left">defined as GR</td></tr></tbody></table></div><p>
<span class="bold"><strong>Add an XlcCharSet</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">Bool <b class="fsfunc"> _XlcAddCharSet</b>(</code></td><td><var class="pdparam"> charset</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XlcCharSet<var class="pdparam"> charset</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcAddCharSet</code>
function registers XlcCharSet specified by "<span class="emphasis"><em>charset</em></span>".
</p><p>


<code class="function">Obtain Character Set values</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">char * <b class="fsfunc"> _XlcGetCSValues</b>(</code></td><td><var class="pdparam"> charset</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> ...</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XlcCharSet<var class="pdparam"> charset</var></code>;<br /><code><var class="pdparam"> ...</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcGetCSValues</code>
function returns NULL if no error occurred;
otherwise, it returns the name of the first argument that could not
be obtained.  The following values are defined as standard arguments.
Other values are implementation dependent.
</p><div class="informaltable"><table border="0"><colgroup><col align="left" /><col align="left" /><col align="left" /></colgroup><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">XlcNName</td><td align="left">char*</td><td align="left">charset name</td></tr><tr><td align="left">XlcNEncodingName</td><td align="left">char*</td><td align="left">XLFD CharSet Registry and Encoding</td></tr><tr><td align="left">XlcNSide</td><td align="left">XlcSide</td><td align="left">charset side (GL, GR, ...)</td></tr><tr><td align="left">XlcNCharSize</td><td align="left">int</td><td align="left">number of octets per character</td></tr><tr><td align="left">XlcNSetSize</td><td align="left">int</td><td align="left">number of character sets</td></tr><tr><td align="left">XlcNControlSequence</td><td align="left">char*</td><td align="left">control sequence of Compound Text</td></tr></tbody></table></div></div><div class="sect1" title="Converter Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Converter_Functions"></a>Converter Functions</h2></div></div></div><p>
We provide a set of the common converter APIs, that are independent
from both of source and destination text type.
</p><pre class="literallayout">
typedef struct _XlcConvRec *XlcConv;

typedef void (*XlcCloseConverterProc)(<span class="emphasis"><em>conv</em></span>);
      XlcConv <span class="emphasis"><em>conv</em></span>;

typedef int (*XlcConvertProc)(<span class="emphasis"><em>conv</em></span>, <span class="emphasis"><em>from</em></span>, <span class="emphasis"><em>from_left</em></span>, <span class="emphasis"><em>to</em></span>, <span class="emphasis"><em>to_left</em></span>, <span class="emphasis"><em>args</em></span>, <span class="emphasis"><em>num_args</em></span>);
      XlcConv <span class="emphasis"><em>conv</em></span>;
      XPointer <span class="emphasis"><em>*from</em></span>;
      int <span class="emphasis"><em>*from_left</em></span>;
      XPointer <span class="emphasis"><em>*to</em></span>;
      int <span class="emphasis"><em>*to_left</em></span>;
      XPointer <span class="emphasis"><em>*args</em></span>;
      int <span class="emphasis"><em>num_args</em></span>;

typedef void (*XlcResetConverterProc)(<span class="emphasis"><em>conv</em></span>);
      XlcConv <span class="emphasis"><em>conv</em></span>;

typedef struct _XlcConvMethodsRec {
      XlcCloseConverterProc close;
      XlcConvertProc convert;
      XlcResetConverterProc reset;
} XlcConvMethodsRec, *XlcConvMethods;

typedef struct _XlcConvRec {
    XlcConvMethods methods;
    XPointer state;
} XlcConvRec;
</pre><p>
<code class="function">Open a converter</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">XlcConv <b class="fsfunc"> _XlcOpenConverter</b>(</code></td><td><var class="pdparam"> from_lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *from_type</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> to_lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *to_type</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> from_lcd</var></code>;<br /><code>char<var class="pdparam"> *from_type</var></code>;<br /><code>XLCd<var class="pdparam"> to_lcd</var></code>;<br /><code>char<var class="pdparam"> *to_type</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
<code class="function">_XlcOpenConverter </code>
function opens the converter which converts a text from specified
"<span class="emphasis"><em>from_type</em></span>" to specified "<span class="emphasis"><em>to_type</em></span>" encoding.  If the
function cannot find proper converter or cannot open a corresponding
converter, it returns NULL.  Otherwise, it returns the conversion
descriptor.
</p><p>
The following types are pre-defined. Other types are implementation
dependent.
</p><div class="informaltable"><table border="1"><colgroup><col align="left" /><col align="left" /><col align="left" /><col align="left" /></colgroup><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th><th align="left">Arguments</th></tr></thead><tbody><tr><td align="left">XlcNMultiByte</td><td align="left">char *</td><td align="left">multibyte</td><td align="left">-</td></tr><tr><td align="left">XlcNWideChar</td><td align="left">wchar_t *</td><td align="left">wide character</td><td align="left">-</td></tr><tr><td align="left">XlcNCompoundText</td><td align="left">char *</td><td align="left">COMPOUND_TEXT</td><td align="left">-</td></tr><tr><td align="left">XlcNString</td><td align="left">char *</td><td align="left">STRING</td><td align="left">-</td></tr><tr><td align="left">XlcNCharSet</td><td align="left">char *</td><td align="left">per charset</td><td align="left">XlcCharSet</td></tr><tr><td align="left">XlcNChar</td><td align="left">char *</td><td align="left">per character</td><td align="left">XlcCharSet</td></tr></tbody></table></div><p>
<span class="bold"><strong>Close a converter</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcCloseConverter</b>(</code></td><td><var class="pdparam"> conv</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XlcConv<var class="pdparam"> conv</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcCloseConverter</code>
function closes the specified converter "<span class="emphasis"><em>conv</em></span>".
</p><p>
<span class="bold"><strong>Code conversion</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _XlcConvert</b>(</code></td><td><var class="pdparam"> conv</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *from</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *from_left</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *to</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *to_left</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *args</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> num_args</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XlcConv<var class="pdparam"> conv</var></code>;<br /><code>XPointer<var class="pdparam"> *from</var></code>;<br /><code>int<var class="pdparam"> *from_left</var></code>;<br /><code>XPointer<var class="pdparam"> *to</var></code>;<br /><code>int<var class="pdparam"> *to_left</var></code>;<br /><code>XPointer<var class="pdparam"> *args</var></code>;<br /><code>int<var class="pdparam"> num_args</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcConvert</code>
function converts a sequence of characters from one type, in the array
specified by "<span class="emphasis"><em>from</em></span>", into a sequence of corresponding characters
in another type, in the array specified by "<span class="emphasis"><em>to</em></span>".  The types are
those specified in the
<code class="function">_XlcOpenConverter() </code>
call that returned the conversion descriptor, "<span class="emphasis"><em>conv</em></span>".
The arguments "<span class="emphasis"><em>from</em></span>", "<span class="emphasis"><em>from_left</em></span>", "<span class="emphasis"><em>to</em></span>" and
"<span class="emphasis"><em>to_left</em></span>" have the same specification of XPG4 iconv function.
</p><p>
For state-dependent encodings, the conversion descriptor "<span class="emphasis"><em>conv</em></span>"
is placed into its initial shift state by a call for which "<span class="emphasis"><em>from</em></span>"
is a NULL pointer, or for which "<span class="emphasis"><em>from</em></span>" points to a null pointer.
</p><p>
The following 2 converters prepared by locale returns appropriate
charset (XlcCharSet) in an area pointed by args[0].
</p><div class="informaltable"><table border="0"><colgroup><col align="left" /><col align="left" /><col align="left" /></colgroup><thead><tr><th align="left">From</th><th align="left">To</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">XlcNMultiByte</td><td align="left">XlcNCharSet</td><td align="left">Segmentation (Decomposing)</td></tr><tr><td align="left">XlcNWideChar</td><td align="left">XlcNCharSet</td><td align="left">Segmentation (Decomposing)</td></tr></tbody></table></div><p>
The conversion, from XlcNMultiByte/XlcNWideChar to XlcNCharSet,
extracts a segment which has same charset encoding characters.
More than one segment cannot be converted in a call.
</p><p>
<span class="bold"><strong>Reset a converter</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcResetConverter</b>(</code></td><td><var class="pdparam"> conv</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XlcConv<var class="pdparam"> conv</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcResetConverter </code>
function reset the specified converter "<span class="emphasis"><em>conv</em></span>".
</p><p>
<span class="bold"><strong>Register a converter</strong></span>
</p><pre class="literallayout">
typedef XlcConv (*XlcOpenConverterProc)(<span class="emphasis"><em>from_lcd</em></span>, <span class="emphasis"><em>from_type</em></span>, <span class="emphasis"><em>to_lcd</em></span>, <span class="emphasis"><em>to_type</em></span>);
      XLCd <span class="emphasis"><em>from_lcd</em></span>;
      char <span class="emphasis"><em>*from_type</em></span>;
      XLCd <span class="emphasis"><em>to_lcd</em></span>;
      char <span class="emphasis"><em>*to_type</em></span>;
</pre><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">Bool <b class="fsfunc"> _XlcSetConverter</b>(</code></td><td><var class="pdparam"> from_lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *from</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> to_lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *to</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> converter</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> from_lcd</var></code>;<br /><code>char<var class="pdparam"> *from</var></code>;<br /><code>XLCd<var class="pdparam"> to_lcd</var></code>;<br /><code>char<var class="pdparam"> *to</var></code>;<br /><code>XlcOpenConverterProc<var class="pdparam"> converter</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The <code class="function">XlcSetConverter</code> function registers a converter which convert
from "<span class="emphasis"><em>from_type</em></span>" to "<span class="emphasis"><em>to_type</em></span>" into the converter list
(in the specified XLCd).
</p></div><div class="sect1" title="X Locale Database functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="X_Locale_Database_functions"></a>X Locale Database functions</h2></div></div></div><p>
X Locale Database contains the subset of user's environment that
depends on language.  The following APIs are provided for accessing
X Locale Database and other locale relative files.
</p><p>
For more detail about  X Locale Database, please refer
X Locale Database Definition document.
</p><p>
<span class="bold"><strong>Get a resource from database</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcGetResource</b>(</code></td><td><var class="pdparam"> lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *category</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *class</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> ***value</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *count</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;<br /><code>char<var class="pdparam"> *category</var></code>;<br /><code>char<var class="pdparam"> *class</var></code>;<br /><code>char<var class="pdparam"> ***value</var></code>;<br /><code>int<var class="pdparam"> *count</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcGetResource</code>
function obtains a locale dependent data which is associated with the
locale of specified "<span class="emphasis"><em>lcd</em></span>".
The locale data is provided by system locale or by X Locale Database
file, and what kind of data is available is implementation dependent.
</p><p>
The specified "<span class="emphasis"><em>category</em></span>" and "<span class="emphasis"><em>class</em></span>" are used for
finding out the objective locale data.
</p><p>
The returned  value is returned in value argument in string list form,
and the returned count shows the number of strings in the value.
</p><p>
The returned value is owned by locale method, and should not be modified
or freed by caller.
</p><p>
<span class="bold"><strong>Get a locale relative file name</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">char *<b class="fsfunc">_XlcFileName</b>(</code></td><td><var class="pdparam"> lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *category</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;<br /><code>char<var class="pdparam"> *category</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcFileName</code>
functions returns a file name which is bound to the specified "<span class="emphasis"><em>lcd</em></span>"
and "<span class="emphasis"><em>category</em></span>", as a null-terminated string.  If no file name can
be found, or there is no readable file for the found file name,
<code class="function">_XlcFileName</code>
returns NULL.  The returned file name should be freed by caller.
</p><p>
The rule for searching a file name is implementation dependent.
In current implementation,
<code class="function">_XlcFileName </code>
uses "{category}.dir" file as mapping table, which has pairs of
strings, a full locale name and a corresponding file name.
</p></div><div class="sect1" title="Utility Functions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="Utility_Functions"></a>Utility Functions</h2></div></div></div><p>
<span class="bold"><strong>Compare Latin-1 strings</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _XlcCompareISOLatin1</b>(</code></td><td><var class="pdparam"> *str2</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char*str1,<var class="pdparam"> *str2</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _XlcNCompareISOLatin1</b>(</code></td><td><var class="pdparam"> *str2</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char*str1,<var class="pdparam"> *str2</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_XlcCompareIsoLatin1 </code>
function to compares two ISO-8859-1 strings.  Bytes representing ASCII lower
case letters are converted to upper case before making the comparison.
The value returned is an integer less than, equal to, or greater than
zero, depending on whether "<span class="emphasis"><em>str1</em></span>" is lexicographicly less than,
equal to, or greater than "<span class="emphasis"><em>str2</em></span>".
</p><p>
The
<code class="function">_XlcNCompareIsoLatin1</code>
function is identical to
<code class="function">_XlcCompareISOLatin1,</code>
except that at most "<span class="emphasis"><em>len</em></span>" bytes are compared.
</p><p>
<span class="bold"><strong>Resource Utility</strong></span>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> XlcNumber</b>(</code></td><td><var class="pdparam"> array</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>ArrayType<var class="pdparam"> array</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to XtNumber.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcCopyFromArg</b>(</code></td><td><var class="pdparam"> *src</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *dst</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> size</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *src</var></code>;<br /><code>char<var class="pdparam"> *dst</var></code>;<br /><code>int<var class="pdparam"> size</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcCopyToArg</b>(</code></td><td><var class="pdparam"> *src</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> **dst</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> size</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *src</var></code>;<br /><code>char<var class="pdparam"> **dst</var></code>;<br /><code>int<var class="pdparam"> size</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to
<code class="function">_XtCopyFromArg </code>
and
<code class="function">_XtCopyToArg.</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcCountVaList</b>(</code></td><td><var class="pdparam"> var</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *count_ret</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>va_list<var class="pdparam"> var</var></code>;<br /><code>int<var class="pdparam"> *count_ret</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to
<code class="function">_XtCountVaList.</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcVaToArgList</b>(</code></td><td><var class="pdparam"> var</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> count</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *args_ret</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>va_list<var class="pdparam"> var</var></code>;<br /><code>int<var class="pdparam"> count</var></code>;<br /><code>XlcArgList<var class="pdparam"> *args_ret</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to
<code class="function">_XtVaToArgList.</code>
</p><pre class="literallayout">
typedef struct _XlcResource {
      char *name;
      XrmQuark xrm_name;
      int size;
      int offset;
      unsigned long mask;
} XlcResource, *XlcResourceList;
</pre><pre class="literallayout">
#define    XlcCreateMask   (1L&lt;&lt;0)
#define    XlcDefaultMask  (1L&lt;&lt;1)
#define    XlcGetMask      (1L&lt;&lt;2)
#define    XlcSetMask      (1L&lt;&lt;3)
#define    XlcIgnoreMask   (1L&lt;&lt;4)
</pre><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">void <b class="fsfunc"> _XlcCompileResourceList</b>(</code></td><td><var class="pdparam"> resources</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> num_resources</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XlcResourceList<var class="pdparam"> resources</var></code>;<br /><code>int<var class="pdparam"> num_resources</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to
<code class="function">_XtCompileResourceList.</code>
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">char * <b class="fsfunc"> _XlcGetValues</b>(</code></td><td><var class="pdparam"> base</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> resources</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> num_resources</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> args</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> num_args</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> mask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XPointer<var class="pdparam"> base</var></code>;<br /><code>XlcResourceList<var class="pdparam"> resources</var></code>;<br /><code>int<var class="pdparam"> num_resources</var></code>;<br /><code>XlcArgList<var class="pdparam"> args</var></code>;<br /><code>int<var class="pdparam"> num_args</var></code>;<br /><code>unsignedlong<var class="pdparam"> mask</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to XtGetSubvalues.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">char * <b class="fsfunc"> _XlcSetValues</b>(</code></td><td><var class="pdparam"> base</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> resources</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> num_resources</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> args</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> num_args</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> mask</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XPointer<var class="pdparam"> base</var></code>;<br /><code>XlcResourceList<var class="pdparam"> resources</var></code>;<br /><code>int<var class="pdparam"> num_resources</var></code>;<br /><code>XlcArgList<var class="pdparam"> args</var></code>;<br /><code>int<var class="pdparam"> num_args</var></code>;<br /><code>unsignedlong<var class="pdparam"> mask</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
Similar to XtSetSubvalues.
</p><p>
<span class="bold"><strong>ANSI C Compatible Functions</strong></span>
</p><p>
The following are ANSI C/MSE Compatible Functions for non-ANSI C environment.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xmblen</b>(</code></td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *str</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xmblen </code>
function returns the number of characters pointed to by "<span class="emphasis"><em>str</em></span>".
Only "<span class="emphasis"><em>len</em></span>" bytes in "<span class="emphasis"><em>str</em></span>" are used in determining the
character count returned.  "<span class="emphasis"><em>Str</em></span>" may point at characters from
any valid codeset in the current locale.
</p><p>
The call
<code class="function">_Xmblen</code>
is equivalent to
_Xmbtowc(_Xmbtowc((<span class="emphasis"><em>wchar_t*</em></span>)NULL, <span class="emphasis"><em>str</em></span>, <span class="emphasis"><em>len</em></span>))
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xmbtowc</b>(</code></td><td><var class="pdparam"> *wstr</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t<var class="pdparam"> *wstr</var></code>;<br /><code>char<var class="pdparam"> *str</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xmbtowc</code>
function converts the character(s) pointed to by "<span class="emphasis"><em>str</em></span>"
to their wide character representation(s) pointed to by "<span class="emphasis"><em>wstr</em></span>".
"<span class="emphasis"><em>Len</em></span>" is the number of bytes in "<span class="emphasis"><em>str</em></span>" to be converted.
The return value is the number of characters converted.
</p><p>
The call
<code class="function">_Xmbtowc</code>
is equivalent to
_Xlcmbtowc((XLCd)NULL, <span class="emphasis"><em>wstr</em></span>, <span class="emphasis"><em>str</em></span>, <span class="emphasis"><em>len</em></span>)
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xlcmbtowc</b>(</code></td><td><var class="pdparam"> lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *wstr</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;<br /><code>wchar_t<var class="pdparam"> *wstr</var></code>;<br /><code>char<var class="pdparam"> *str</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xlcmbtowc</code>
function is identical to
<code class="function">_Xmbtowc, </code>
except that it requires the "<span class="emphasis"><em>lcd</em></span>" argument.  If "<span class="emphasis"><em>lcd</em></span>"
is (XLCd) NULL,
<code class="function">_Xlcmbtowc, </code>
calls
<code class="function">_XlcCurrentLC </code>
to determine the current locale.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xwctomb</b>(</code></td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> wc</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *str</var></code>;<br /><code>wchar_t<var class="pdparam"> wc</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xwctomb </code>
function converts a single wide character pointed to by "<span class="emphasis"><em>wc</em></span>" to
its multibyte representation pointed to by "<span class="emphasis"><em>str</em></span>".
On success, the return value is 1.
</p><p>
The call
<code class="function">_Xwctomb</code>
is equivalent to
_Xlcwctomb((XLCd)NULL, <span class="emphasis"><em>str</em></span>, <span class="emphasis"><em>wstr</em></span>)
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xlcwctomb</b>(</code></td><td><var class="pdparam"> lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> wc</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;<br /><code>char<var class="pdparam"> *str</var></code>;<br /><code>wchar_t<var class="pdparam"> wc</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xlcwctomb</code>
function is identical to _Xwctomb, except that it requires the
"<span class="emphasis"><em>lcd</em></span>" argument.  If "<span class="emphasis"><em>lcd</em></span>" is (XLCd) NULL,
<code class="function">_Xlcwctomb, </code>
calls
<code class="function">_XlcCurrentLC </code>
to determine the current locale.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xmbstowcs</b>(</code></td><td><var class="pdparam"> *wstr</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t<var class="pdparam"> *wstr</var></code>;<br /><code>char<var class="pdparam"> *str</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xmbstowcs</code>
function converts the NULL-terminated string pointed to by "<span class="emphasis"><em>str</em></span>"
to its wide character string representation pointed to by "<span class="emphasis"><em>wstr</em></span>".
"<span class="emphasis"><em>Len</em></span>" is the number of characters in "<span class="emphasis"><em>str</em></span>" to be converted.
</p><p>
The call
<code class="function">_Xmbstowcs</code>
is equivalent to
_Xlcmbstowcs((XLCd)NULL, <span class="emphasis"><em>wstr</em></span>, <span class="emphasis"><em>str</em></span>, <span class="emphasis"><em>len</em></span>)
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xlcmbstowcs</b>(</code></td><td><var class="pdparam"> lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *wstr</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;<br /><code>wchar_t<var class="pdparam"> *wstr</var></code>;<br /><code>char<var class="pdparam"> *str</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xlcmbstowcs </code>
function is identical to _Xmbstowcs, except that it requires the
"<span class="emphasis"><em>lcd</em></span>" argument.  If "<span class="emphasis"><em>lcd</em></span>" is (XLCd) NULL,
<code class="function">_Xlcmbstowcs, </code>
calls
<code class="function">_XlcCurrentLC</code>
to determine the current locale.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xwcstombs</b>(</code></td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *wstr</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>char<var class="pdparam"> *str</var></code>;<br /><code>wchar_t<var class="pdparam"> *wstr</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xwcstombs </code>
function converts the (wchar_t) NULL terminated wide character string
pointed to by "<span class="emphasis"><em>wstr</em></span>" to the NULL terminated multibyte string
pointed to by "<span class="emphasis"><em>str</em></span>".
</p><p>
The call
<code class="function">_Xwcstombs </code>
is equivalent to
_Xlcwcstombs((XLCd)NULL, <span class="emphasis"><em>str</em></span>, <span class="emphasis"><em>wstr</em></span>, <span class="emphasis"><em>len</em></span>)
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xlcwcstombs</b>(</code></td><td><var class="pdparam"> lcd</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *str</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *wstr</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>XLCd<var class="pdparam"> lcd</var></code>;<br /><code>char<var class="pdparam"> *str</var></code>;<br /><code>wchar_t<var class="pdparam"> *wstr</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xlcwcstombs </code>
function is identical to _Xwcstombs, except that it requires the
"<span class="emphasis"><em>lcd</em></span>" argument.  If "<span class="emphasis"><em>lcd</em></span>" is (XLCd) NULL,
<code class="function">_Xlcwcstombs, </code>
calls
<code class="function">_XlcCurrentLC </code>
to determine the current locale.
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xwcslen</b>(</code></td><td><var class="pdparam"> *wstr</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t<var class="pdparam"> *wstr</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xwcslen </code>
function returns the count of wide characters in the (wchar_t) NULL
terminated wide character string pointed to by "<span class="emphasis"><em>wstr</em></span>".
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">wchar_t *<b class="fsfunc"> _Xwcscpy</b>(</code></td><td><var class="pdparam"> *wstr1</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *wstr2</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t<var class="pdparam"> *wstr1</var></code>;<br /><code>wchar_t<var class="pdparam"> *wstr2</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">wchar_t * <b class="fsfunc"> _Xwcsncpy</b>(</code></td><td><var class="pdparam"> *wstr1</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> *wstr2</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t<var class="pdparam"> *wstr1</var></code>;<br /><code>wchar_t<var class="pdparam"> *wstr2</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xwcscpy </code>
function copies the (wchar_t) NULL terminated wide character string
pointed to by "<span class="emphasis"><em>wstr2</em></span>" to the object pointed at by "<span class="emphasis"><em>wstr1</em></span>".
"<span class="emphasis"><em>Wstr1</em></span>" is (wchar_t) NULL terminated.  The return value is a
pointer to "<span class="emphasis"><em>wstr1</em></span>".
</p><p>
The
<code class="function">_Xwcsncpy</code>
function is identical to
<code class="function">_Xwcscpy, </code>
except that it copies "<span class="emphasis"><em>len</em></span>" wide characters from the object
pointed to by "<span class="emphasis"><em>wstr2</em></span>" to the object pointed to "<span class="emphasis"><em>wstr1</em></span>".
</p><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xwcscmp</b>(</code></td><td><var class="pdparam"> *wstr2</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t*wstr1,<var class="pdparam"> *wstr2</var></code>;</div><div class="funcprototype-spacer"> </div></div><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc"> _Xwcsncmp</b>(</code></td><td><var class="pdparam"> *wstr2</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam"> len</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>wchar_t*wstr1,<var class="pdparam"> *wstr2</var></code>;<br /><code>int<var class="pdparam"> len</var></code>;</div><div class="funcprototype-spacer"> </div></div><p>
The
<code class="function">_Xwcscmp </code>
function  compares two (wchar_t) NULL terminated wide character strings.
The value returned is an integer less than, equal to, or greater than zero,
depending on whether "<span class="emphasis"><em>wstr1</em></span>" is lexicographicly less then, equal to,
or greater than "<span class="emphasis"><em>str2</em></span>".
</p><p>
The
<code class="function">_Xwcsncmp </code>
function is identical to
<code class="function">_XlcCompareISOLatin1, </code>
except that at most "<span class="emphasis"><em>len</em></span>" wide characters are compared.
</p></div></div></div></body></html>
