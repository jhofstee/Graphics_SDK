<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTPFXParser.h</h1><a href="PVRTPFXParser_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/******************************************************************************</span>
00002 <span class="comment"></span>
00003 <span class="comment"> @File         PVRTPFXParser.h</span>
00004 <span class="comment"></span>
00005 <span class="comment"> @Title        PVRTPFXParser</span>
00006 <span class="comment"></span>
00007 <span class="comment"> @Version       @Version      </span>
00008 <span class="comment"></span>
00009 <span class="comment"> @Copyright    Copyright (c) Imagination Technologies Limited.</span>
00010 <span class="comment"></span>
00011 <span class="comment"> @Platform     Windows + Linux</span>
00012 <span class="comment"></span>
00013 <span class="comment"> @Description  Declaration of PFX file parser</span>
00014 <span class="comment"></span>
00015 <span class="comment">******************************************************************************/</span>
00016 
00017 <span class="preprocessor">#ifndef _PVRTPFXPARSER_H_</span>
00018 <span class="preprocessor"></span><span class="preprocessor">#define _PVRTPFXPARSER_H_</span>
00019 <span class="preprocessor"></span>
00020 
00021 <span class="comment">/*****************************************************************************</span>
00022 <span class="comment">** Includes</span>
00023 <span class="comment">******************************************************************************/</span>
00024 
00025 <span class="preprocessor">#include "<a class="code" href="PVRTArray_8h.html">PVRTArray.h</a>"</span>
00026 <span class="preprocessor">#include "<a class="code" href="PVRTString_8h.html">PVRTString.h</a>"</span>
00027 <span class="preprocessor">#include "<a class="code" href="PVRTError_8h.html">PVRTError.h</a>"</span>
00028 <span class="preprocessor">#include "<a class="code" href="PVRTTexture_8h.html">PVRTTexture.h</a>"</span>
00029 <span class="preprocessor">#include "<a class="code" href="PVRTVector_8h.html">PVRTVector.h</a>"</span>
00030 <span class="preprocessor">#include "<a class="code" href="PVRTSkipGraph_8h.html">PVRTSkipGraph.h</a>"</span>
00031 <span class="preprocessor">#include "<a class="code" href="PVRTStringHash_8h.html">PVRTStringHash.h</a>"</span>
00032 
00033 <span class="comment">/****************************************************************************</span>
00034 <span class="comment">** Helper Funcions</span>
00035 <span class="comment">****************************************************************************/</span>
00036 <span class="keywordtype">void</span> <a class="code" href="PVRTPFXParser_8h.html#a33">PVRTPFXCreateStringCopy</a>(<span class="keywordtype">char</span>** ppDst, <span class="keyword">const</span> <span class="keywordtype">char</span>* pSrc);
00037 
00038 <span class="comment">/****************************************************************************</span>
00039 <span class="comment">** Enumeration</span>
00040 <span class="comment">****************************************************************************/</span>
00041 <span class="comment">/*!**************************************************************************</span>
00042 <span class="comment">@Enum   ESemanticDefaultDataType</span>
00043 <span class="comment">@Brief  Enum values for the various variable types supported</span>
00044 <span class="comment">****************************************************************************/</span>
<a name="l00045"></a><a class="code" href="PVRTPFXParser_8h.html#a34">00045</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a34">ESemanticDefaultDataType</a>
00046 {
00047     <a class="code" href="PVRTPFXParser_8h.html#a34a3">eDataTypeMat2</a>,
00048     <a class="code" href="PVRTPFXParser_8h.html#a34a4">eDataTypeMat3</a>,
00049     <a class="code" href="PVRTPFXParser_8h.html#a34a5">eDataTypeMat4</a>,
00050     <a class="code" href="PVRTPFXParser_8h.html#a34a6">eDataTypeVec2</a>,
00051     <a class="code" href="PVRTPFXParser_8h.html#a34a7">eDataTypeVec3</a>,
00052     <a class="code" href="PVRTPFXParser_8h.html#a34a8">eDataTypeVec4</a>,
00053     <a class="code" href="PVRTPFXParser_8h.html#a34a9">eDataTypeIvec2</a>,
00054     <a class="code" href="PVRTPFXParser_8h.html#a34a10">eDataTypeIvec3</a>,
00055     <a class="code" href="PVRTPFXParser_8h.html#a34a11">eDataTypeIvec4</a>,
00056     <a class="code" href="PVRTPFXParser_8h.html#a34a12">eDataTypeBvec2</a>,
00057     <a class="code" href="PVRTPFXParser_8h.html#a34a13">eDataTypeBvec3</a>,
00058     <a class="code" href="PVRTPFXParser_8h.html#a34a14">eDataTypeBvec4</a>,
00059     <a class="code" href="PVRTPFXParser_8h.html#a34a15">eDataTypeFloat</a>,
00060     <a class="code" href="PVRTPFXParser_8h.html#a34a16">eDataTypeInt</a>,
00061     <a class="code" href="PVRTPFXParser_8h.html#a34a17">eDataTypeBool</a>,
00062 
00063     <a class="code" href="PVRTPFXParser_8h.html#a34a18">eNumDefaultDataTypes</a>,
00064     <a class="code" href="PVRTPFXParser_8h.html#a34a19">eDataTypeNone</a>,
00065 
00066     <span class="comment">// Conceptual data types</span>
00067     <a class="code" href="PVRTPFXParser_8h.html#a34a20">eDataTypeRGB</a>,
00068     <a class="code" href="PVRTPFXParser_8h.html#a34a21">eDataTypeRGBA</a>,
00069 };
00070 
00071 <span class="comment">/*!**************************************************************************</span>
00072 <span class="comment">@Enum   EDefaultDataInternalType</span>
00073 <span class="comment">@Brief  Enum values for defining whether a variable is float, interger or bool</span>
00074 <span class="comment">****************************************************************************/</span>
<a name="l00075"></a><a class="code" href="PVRTPFXParser_8h.html#a35">00075</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a35">EDefaultDataInternalType</a>
00076 {
00077     <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a>,
00078     <a class="code" href="PVRTPFXParser_8h.html#a35a23">eInteger</a>,
00079     <a class="code" href="PVRTPFXParser_8h.html#a35a24">eBoolean</a>
00080 };
00081 
00082 <span class="comment">/*!**************************************************************************</span>
00083 <span class="comment">@enum   EPVRTPFXPassType</span>
00084 <span class="comment">@Brief  Decribes the type of render required</span>
00085 <span class="comment">****************************************************************************/</span>
<a name="l00086"></a><a class="code" href="PVRTPFXParser_8h.html#a36">00086</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a36">EPVRTPFXPassType</a>
00087 {
00088     <a class="code" href="PVRTPFXParser_8h.html#a36a25">eNULL_PASS</a>,
00089     <a class="code" href="PVRTPFXParser_8h.html#a36a26">eCAMERA_PASS</a>,
00090     <a class="code" href="PVRTPFXParser_8h.html#a36a27">ePOSTPROCESS_PASS</a>,
00091     <a class="code" href="PVRTPFXParser_8h.html#a36a28">eENVMAPCUBE_PASS</a>,
00092     <a class="code" href="PVRTPFXParser_8h.html#a36a29">eENVMAPSPH_PASS</a>
00093 };
00094 
00095 <span class="comment">/*!**************************************************************************</span>
00096 <span class="comment">@enum   EPVRTPFXPassType</span>
00097 <span class="comment">@Brief  Decribes the type of render required</span>
00098 <span class="comment">****************************************************************************/</span>
<a name="l00099"></a><a class="code" href="PVRTPFXParser_8h.html#a37">00099</a> <span class="keyword">enum</span> <a class="code" href="PVRTPFXParser_8h.html#a37">EPVRTPFXPassView</a>
00100 {
00101     <a class="code" href="PVRTPFXParser_8h.html#a37a30">eVIEW_CURRENT</a>,          <span class="comment">// The scene's active camera is used</span>
00102     <a class="code" href="PVRTPFXParser_8h.html#a37a31">eVIEW_POD_CAMERA</a>,       <span class="comment">// The specified camera is used</span>
00103     <a class="code" href="PVRTPFXParser_8h.html#a37a32">eVIEW_NONE</a>              <span class="comment">// No specified view</span>
00104 };
00105 
00106 <span class="comment">/****************************************************************************</span>
00107 <span class="comment">** Structures</span>
00108 <span class="comment">****************************************************************************/</span>
00109 <span class="comment">/*!**************************************************************************</span>
00110 <span class="comment">@Struct SPVRTPFXParserHeader</span>
00111 <span class="comment">@Brief  Struct for storing PFX file header data</span>
00112 <span class="comment">****************************************************************************/</span>
<a name="l00113"></a><a class="code" href="structSPVRTPFXParserHeader.html">00113</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>
00114 {
<a name="l00115"></a><a class="code" href="structSPVRTPFXParserHeader.html#o0">00115</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>         <a class="code" href="structSPVRTPFXParserHeader.html#o0">Version</a>;
<a name="l00116"></a><a class="code" href="structSPVRTPFXParserHeader.html#o1">00116</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>         <a class="code" href="structSPVRTPFXParserHeader.html#o1">Description</a>;
<a name="l00117"></a><a class="code" href="structSPVRTPFXParserHeader.html#o2">00117</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>         <a class="code" href="structSPVRTPFXParserHeader.html#o2">Copyright</a>;
00118 };
00119 
00120 <span class="comment">/*!**************************************************************************</span>
00121 <span class="comment">@Struct SPVRTPFXParserTexture</span>
00122 <span class="comment">@Brief  Struct for storing PFX data from the texture block</span>
00123 <span class="comment">****************************************************************************/</span>
<a name="l00124"></a><a class="code" href="structSPVRTPFXParserTexture.html">00124</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>
00125 {
<a name="l00126"></a><a class="code" href="structSPVRTPFXParserTexture.html#o0">00126</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>     Name;
<a name="l00127"></a><a class="code" href="structSPVRTPFXParserTexture.html#o1">00127</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>     <a class="code" href="structSPVRTPFXParserTexture.html#o1">FileName</a>;
<a name="l00128"></a><a class="code" href="structSPVRTPFXParserTexture.html#o2">00128</a>     <span class="keywordtype">bool</span>                <a class="code" href="structSPVRTPFXParserTexture.html#o2">bRenderToTexture</a>;
<a name="l00129"></a><a class="code" href="structSPVRTPFXParserTexture.html#o5">00129</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structSPVRTPFXParserTexture.html#o3">nMin</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o4">nMag</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o5">nMIP</a>;
<a name="l00130"></a><a class="code" href="structSPVRTPFXParserTexture.html#o7">00130</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structSPVRTPFXParserTexture.html#o6">nWrapS</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o7">nWrapT</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o8">nWrapR</a>; <span class="comment">// either GL_CLAMP or GL_REPEAT</span>
<a name="l00131"></a><a class="code" href="structSPVRTPFXParserTexture.html#o9">00131</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structSPVRTPFXParserTexture.html#o9">uiWidth</a>, <a class="code" href="structSPVRTPFXParserTexture.html#o10">uiHeight</a>;
<a name="l00132"></a><a class="code" href="structSPVRTPFXParserTexture.html#o11">00132</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structSPVRTPFXParserTexture.html#o11">uiFlags</a>;
00133 };
00134 
00135 <span class="comment">/*!**************************************************************************</span>
00136 <span class="comment">@Struct SPVRTPFXParserEffectTexture</span>
00137 <span class="comment">@Brief  Stores effect texture information</span>
00138 <span class="comment">****************************************************************************/</span>
<a name="l00139"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html">00139</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserEffectTexture.html">SPVRTPFXParserEffectTexture</a>
00140 {
<a name="l00141"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html#o0">00141</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>             Name;               <span class="comment">// Name of texture.</span>
<a name="l00142"></a><a class="code" href="structSPVRTPFXParserEffectTexture.html#o1">00142</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                <a class="code" href="structSPVRTPFXParserEffectTexture.html#o1">nNumber</a>;            <span class="comment">// Texture number to set</span>
00143 };
00144 
00145 <span class="comment">/*!**************************************************************************</span>
00146 <span class="comment">@Struct SPVRTPFXParserShader</span>
00147 <span class="comment">@Brief  Struct for storing PFX data from the shader block</span>
00148 <span class="comment">****************************************************************************/</span>
<a name="l00149"></a><a class="code" href="structSPVRTPFXParserShader.html">00149</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>
00150 {
<a name="l00151"></a><a class="code" href="structSPVRTPFXParserShader.html#o0">00151</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>         Name;
<a name="l00152"></a><a class="code" href="structSPVRTPFXParserShader.html#o1">00152</a>     <span class="keywordtype">bool</span>                    <a class="code" href="structSPVRTPFXParserShader.html#o1">bUseFileName</a>;
<a name="l00153"></a><a class="code" href="structSPVRTPFXParserShader.html#o2">00153</a>     <span class="keywordtype">char</span>*                   <a class="code" href="structSPVRTPFXParserShader.html#o2">pszGLSLfile</a>;
<a name="l00154"></a><a class="code" href="structSPVRTPFXParserShader.html#o3">00154</a>     <span class="keywordtype">char</span>*                   <a class="code" href="structSPVRTPFXParserShader.html#o3">pszGLSLBinaryFile</a>;
<a name="l00155"></a><a class="code" href="structSPVRTPFXParserShader.html#o4">00155</a>     <span class="keywordtype">char</span>*                   <a class="code" href="structSPVRTPFXParserShader.html#o4">pszGLSLcode</a>;
<a name="l00156"></a><a class="code" href="structSPVRTPFXParserShader.html#o5">00156</a>     <span class="keywordtype">char</span>*                   <a class="code" href="structSPVRTPFXParserShader.html#o5">pbGLSLBinary</a>;
<a name="l00157"></a><a class="code" href="structSPVRTPFXParserShader.html#o6">00157</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            <a class="code" href="structSPVRTPFXParserShader.html#o6">nGLSLBinarySize</a>;
<a name="l00158"></a><a class="code" href="structSPVRTPFXParserShader.html#o7">00158</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>            <a class="code" href="structSPVRTPFXParserShader.html#o7">nFirstLineNumber</a>;   <span class="comment">// Line number in the text file where this code began; use to correct line-numbers in compiler errors</span>
00159 
00160     <a class="code" href="structSPVRTPFXParserShader.html#a0">SPVRTPFXParserShader</a>();
00161     <a class="code" href="structSPVRTPFXParserShader.html#a1">~SPVRTPFXParserShader</a>();
00162     <a class="code" href="structSPVRTPFXParserShader.html#a0">SPVRTPFXParserShader</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; rhs);
00163     <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; <a class="code" href="structSPVRTPFXParserShader.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; rhs);
00164 
00165     <span class="keywordtype">void</span> <a class="code" href="structSPVRTPFXParserShader.html#a4">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; rhs);
00166 };
00167 
00168 <span class="comment">/*!**************************************************************************</span>
00169 <span class="comment">@Struct SPVRTSemanticDefaultDataTypeInfo</span>
00170 <span class="comment">@Brief  Struct for storing default data types</span>
00171 <span class="comment">****************************************************************************/</span>
<a name="l00172"></a><a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html">00172</a> <span class="keyword">struct </span><a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html">SPVRTSemanticDefaultDataTypeInfo</a>
00173 {
<a name="l00174"></a><a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html#o0">00174</a>     <a class="code" href="PVRTPFXParser_8h.html#a34">ESemanticDefaultDataType</a>    eType;
<a name="l00175"></a><a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html#o1">00175</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>                  *pszName;
<a name="l00176"></a><a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html#o2">00176</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                <a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html#o2">nNumberDataItems</a>;
<a name="l00177"></a><a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html#o3">00177</a>     <a class="code" href="PVRTPFXParser_8h.html#a35">EDefaultDataInternalType</a>    <a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html#o3">eInternalType</a>;
00178 };
00179 
00180 <span class="comment">/*!**************************************************************************</span>
00181 <span class="comment">@Struct SPVRTSemanticDefaultData</span>
00182 <span class="comment">@Brief  Stores a default value</span>
00183 <span class="comment">****************************************************************************/</span>
<a name="l00184"></a><a class="code" href="structSPVRTSemanticDefaultData.html">00184</a> <span class="keyword">struct </span><a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>
00185 {
<a name="l00186"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o0">00186</a>     <span class="keywordtype">float</span>                       <a class="code" href="structSPVRTSemanticDefaultData.html#o0">pfData</a>[16];
<a name="l00187"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o1">00187</a>     <span class="keywordtype">int</span>                         <a class="code" href="structSPVRTSemanticDefaultData.html#o1">pnData</a>[4];
<a name="l00188"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o2">00188</a>     <span class="keywordtype">bool</span>                        <a class="code" href="structSPVRTSemanticDefaultData.html#o2">pbData</a>[4];
<a name="l00189"></a><a class="code" href="structSPVRTSemanticDefaultData.html#o3">00189</a>     <a class="code" href="PVRTPFXParser_8h.html#a34">ESemanticDefaultDataType</a>    eType;
00190 
00191     <a class="code" href="structSPVRTSemanticDefaultData.html#a0">SPVRTSemanticDefaultData</a>();
00192     <a class="code" href="structSPVRTSemanticDefaultData.html#a0">SPVRTSemanticDefaultData</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; rhs);
00193     <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; <a class="code" href="structSPVRTSemanticDefaultData.html#a2">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; rhs);
00194 
00195     <span class="keywordtype">void</span> <a class="code" href="structSPVRTSemanticDefaultData.html#a3">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>&amp; rhs);
00196 };
00197 
00198 <span class="comment">/*!**************************************************************************</span>
00199 <span class="comment">@Struct SPVRTPFXParserSemantic</span>
00200 <span class="comment">@Brief  Stores semantic information</span>
00201 <span class="comment">****************************************************************************/</span>
<a name="l00202"></a><a class="code" href="structSPVRTPFXParserSemantic.html">00202</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>
00203 {
<a name="l00204"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o0">00204</a>     <span class="keywordtype">char</span>                        *pszName;               
<a name="l00205"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o1">00205</a>     <span class="keywordtype">char</span>                        *<a class="code" href="structSPVRTPFXParserSemantic.html#o1">pszValue</a>;              
<a name="l00206"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o2">00206</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                nIdx;                   
<a name="l00207"></a><a class="code" href="structSPVRTPFXParserSemantic.html#o3">00207</a>     <a class="code" href="structSPVRTSemanticDefaultData.html">SPVRTSemanticDefaultData</a>    <a class="code" href="structSPVRTPFXParserSemantic.html#o3">sDefaultValue</a>;          
00209     <a class="code" href="structSPVRTPFXParserSemantic.html#a0">SPVRTPFXParserSemantic</a>();
00210     <a class="code" href="structSPVRTPFXParserSemantic.html#a1">~SPVRTPFXParserSemantic</a>();
00211     <a class="code" href="structSPVRTPFXParserSemantic.html#a0">SPVRTPFXParserSemantic</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; rhs);
00212     <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; <a class="code" href="structSPVRTPFXParserSemantic.html#a3">operator=</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; rhs);
00213 
00214     <span class="keywordtype">void</span> <a class="code" href="structSPVRTPFXParserSemantic.html#a4">Copy</a>(<span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a>&amp; rhs);
00215 };
00216 
00217 
00218 <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>;    <span class="comment">// Forward declaration</span>
00219 <span class="comment">/*!**************************************************************************</span>
00220 <span class="comment">@Struct SPVRTPFXRenderPass</span>
00221 <span class="comment">@Brief  Stores render pass information</span>
00222 <span class="comment">****************************************************************************/</span>
<a name="l00223"></a><a class="code" href="structSPVRTPFXRenderPass.html">00223</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXRenderPass.html">SPVRTPFXRenderPass</a>
00224 {
<a name="l00225"></a><a class="code" href="structSPVRTPFXRenderPass.html#o0">00225</a>     <a class="code" href="PVRTPFXParser_8h.html#a36">EPVRTPFXPassType</a>        <a class="code" href="structSPVRTPFXRenderPass.html#o0">eRenderPassType</a>;            <span class="comment">// Type of pass.</span>
<a name="l00226"></a><a class="code" href="structSPVRTPFXRenderPass.html#o1">00226</a>     <a class="code" href="PVRTPFXParser_8h.html#a37">EPVRTPFXPassView</a>        <a class="code" href="structSPVRTPFXRenderPass.html#o1">eViewType</a>;                  <span class="comment">// View type.</span>
<a name="l00227"></a><a class="code" href="structSPVRTPFXRenderPass.html#o2">00227</a>     <a class="code" href="PVRTGlobal_8h.html#a22">PVRTuint32</a>              <a class="code" href="structSPVRTPFXRenderPass.html#o2">uiFormatFlags</a>;              <span class="comment">// Surface Type.</span>
<a name="l00228"></a><a class="code" href="structSPVRTPFXRenderPass.html#o3">00228</a>     <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>*   <a class="code" href="structSPVRTPFXRenderPass.html#o3">pEffect</a>;                    <span class="comment">// Matched pass. Needed but determined from effect block.</span>
<a name="l00229"></a><a class="code" href="structSPVRTPFXRenderPass.html#o4">00229</a>     <a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>*  pTexture;                   <span class="comment">// The RTT target for this pass.</span>
<a name="l00230"></a><a class="code" href="structSPVRTPFXRenderPass.html#o5">00230</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>             <a class="code" href="structSPVRTPFXRenderPass.html#o5">NodeName</a>;                   <span class="comment">// POD Camera name.</span>
<a name="l00231"></a><a class="code" href="structSPVRTPFXRenderPass.html#o6">00231</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>             <a class="code" href="structSPVRTPFXRenderPass.html#o6">SemanticName</a>;               <span class="comment">// Name of this pass.</span>
00232     
00233     <a class="code" href="structSPVRTPFXRenderPass.html#a0">SPVRTPFXRenderPass</a>();
00234 };
00235 
00236 <span class="comment">/*!**************************************************************************</span>
00237 <span class="comment">@Struct SPVRTTargetPair</span>
00238 <span class="comment">@Brief  Stores a buffer type and name for a render target.</span>
00239 <span class="comment">****************************************************************************/</span>
<a name="l00240"></a><a class="code" href="structSPVRTTargetPair.html">00240</a> <span class="keyword">struct </span><a class="code" href="structSPVRTTargetPair.html">SPVRTTargetPair</a>
00241 {
<a name="l00242"></a><a class="code" href="structSPVRTTargetPair.html#o0">00242</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>             <a class="code" href="structSPVRTTargetPair.html#o0">BufferType</a>;
<a name="l00243"></a><a class="code" href="structSPVRTTargetPair.html#o1">00243</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>             <a class="code" href="structSPVRTTargetPair.html#o1">TargetName</a>;
00244 };
00245 
00246 <span class="comment">/*!**************************************************************************</span>
00247 <span class="comment">@Struct SPVRTPFXParserEffect</span>
00248 <span class="comment">@Brief  Stores effect information</span>
00249 <span class="comment">****************************************************************************/</span>
<a name="l00250"></a><a class="code" href="structSPVRTPFXParserEffect.html">00250</a> <span class="keyword">struct </span><a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>
00251 {
<a name="l00252"></a><a class="code" href="structSPVRTPFXParserEffect.html#o0">00252</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>                         Name;
<a name="l00253"></a><a class="code" href="structSPVRTPFXParserEffect.html#o1">00253</a>     <a class="code" href="classCPVRTString.html">CPVRTString</a>                             <a class="code" href="structSPVRTPFXParserEffect.html#o1">Annotation</a>;
00254 
<a name="l00255"></a><a class="code" href="structSPVRTPFXParserEffect.html#o2">00255</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>                         <a class="code" href="structSPVRTPFXParserEffect.html#o2">VertexShaderName</a>;
<a name="l00256"></a><a class="code" href="structSPVRTPFXParserEffect.html#o3">00256</a>     <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>                         <a class="code" href="structSPVRTPFXParserEffect.html#o3">FragmentShaderName</a>;
00257 
<a name="l00258"></a><a class="code" href="structSPVRTPFXParserEffect.html#o4">00258</a>     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserSemantic&gt;</a>      <a class="code" href="structSPVRTPFXParserEffect.html#o4">Uniforms</a>;
<a name="l00259"></a><a class="code" href="structSPVRTPFXParserEffect.html#o5">00259</a>     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserSemantic&gt;</a>      <a class="code" href="structSPVRTPFXParserEffect.html#o5">Attributes</a>;
<a name="l00260"></a><a class="code" href="structSPVRTPFXParserEffect.html#o6">00260</a>     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserEffectTexture&gt;</a> <a class="code" href="structSPVRTPFXParserEffect.html#o6">Textures</a>;
<a name="l00261"></a><a class="code" href="structSPVRTPFXParserEffect.html#o7">00261</a>     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTTargetPair&gt;</a>             <a class="code" href="structSPVRTPFXParserEffect.html#o7">Targets</a>;
00262 
00263     <a class="code" href="structSPVRTPFXParserEffect.html#a0">SPVRTPFXParserEffect</a>();
00264 };
00265 
00266 <span class="comment">/****************************************************************************</span>
00267 <span class="comment">** Constants</span>
00268 <span class="comment">****************************************************************************/</span>
<a name="l00269"></a><a class="code" href="PVRTPFXParser_8h.html#a0">00269</a> <span class="keyword">const</span> <a class="code" href="PVRTGlobal_8h.html#a22">PVRTuint32</a> <a class="code" href="PVRTPFXParser_8h.html#a0">PVRPFXTEX_COLOUR</a> = <a class="code" href="PVRTGlobal_8h.html#a22">PVRTuint32</a>(1&lt;&lt;30);
<a name="l00270"></a><a class="code" href="PVRTPFXParser_8h.html#a1">00270</a> <span class="keyword">const</span> <a class="code" href="PVRTGlobal_8h.html#a22">PVRTuint32</a> <a class="code" href="PVRTPFXParser_8h.html#a1">PVRPFXTEX_DEPTH</a>  = <a class="code" href="PVRTGlobal_8h.html#a22">PVRTuint32</a>(1&lt;&lt;31);
00271 
00272 <span class="keyword">const</span> <span class="keyword">static</span> <a class="code" href="structSPVRTSemanticDefaultDataTypeInfo.html">SPVRTSemanticDefaultDataTypeInfo</a> c_psSemanticDefaultDataTypeInfo[] =
00273 {
00274     { <a class="code" href="PVRTPFXParser_8h.html#a34a3">eDataTypeMat2</a>,        <span class="stringliteral">"mat2"</span>,         4,      <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00275     { <a class="code" href="PVRTPFXParser_8h.html#a34a4">eDataTypeMat3</a>,        <span class="stringliteral">"mat3"</span>,         9,      <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00276     { <a class="code" href="PVRTPFXParser_8h.html#a34a5">eDataTypeMat4</a>,        <span class="stringliteral">"mat4"</span>,         16,     <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00277     { <a class="code" href="PVRTPFXParser_8h.html#a34a6">eDataTypeVec2</a>,        <span class="stringliteral">"vec2"</span>,         2,      <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00278     { <a class="code" href="PVRTPFXParser_8h.html#a34a7">eDataTypeVec3</a>,        <span class="stringliteral">"vec3"</span>,         3,      <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00279     { <a class="code" href="PVRTPFXParser_8h.html#a34a8">eDataTypeVec4</a>,        <span class="stringliteral">"vec4"</span>,         4,      <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00280     { <a class="code" href="PVRTPFXParser_8h.html#a34a9">eDataTypeIvec2</a>,       <span class="stringliteral">"ivec2"</span>,        2,      <a class="code" href="PVRTPFXParser_8h.html#a35a23">eInteger</a> },
00281     { <a class="code" href="PVRTPFXParser_8h.html#a34a10">eDataTypeIvec3</a>,       <span class="stringliteral">"ivec3"</span>,        3,      <a class="code" href="PVRTPFXParser_8h.html#a35a23">eInteger</a> },
00282     { <a class="code" href="PVRTPFXParser_8h.html#a34a11">eDataTypeIvec4</a>,       <span class="stringliteral">"ivec4"</span>,        4,      <a class="code" href="PVRTPFXParser_8h.html#a35a23">eInteger</a> },
00283     { <a class="code" href="PVRTPFXParser_8h.html#a34a12">eDataTypeBvec2</a>,       <span class="stringliteral">"bvec2"</span>,        2,      <a class="code" href="PVRTPFXParser_8h.html#a35a24">eBoolean</a> },
00284     { <a class="code" href="PVRTPFXParser_8h.html#a34a13">eDataTypeBvec3</a>,       <span class="stringliteral">"bvec3"</span>,        3,      <a class="code" href="PVRTPFXParser_8h.html#a35a24">eBoolean</a> },
00285     { <a class="code" href="PVRTPFXParser_8h.html#a34a14">eDataTypeBvec4</a>,       <span class="stringliteral">"bvec4"</span>,        4,      <a class="code" href="PVRTPFXParser_8h.html#a35a24">eBoolean</a> },
00286     { <a class="code" href="PVRTPFXParser_8h.html#a34a15">eDataTypeFloat</a>,       <span class="stringliteral">"float"</span>,        1,      <a class="code" href="PVRTPFXParser_8h.html#a35a22">eFloating</a> },
00287     { <a class="code" href="PVRTPFXParser_8h.html#a34a16">eDataTypeInt</a>,         <span class="stringliteral">"int"</span>,          1,      <a class="code" href="PVRTPFXParser_8h.html#a35a23">eInteger</a> },
00288     { <a class="code" href="PVRTPFXParser_8h.html#a34a17">eDataTypeBool</a>,        <span class="stringliteral">"bool"</span>,         1,      <a class="code" href="PVRTPFXParser_8h.html#a35a24">eBoolean</a> },
00289 };
00290 
00291 
00292 <span class="keyword">class </span>CPVRTPFXParserReadContext;
00293 
00294 <span class="comment">/*!**************************************************************************</span>
00295 <span class="comment">@Class CPVRTPFXParser</span>
00296 <span class="comment">@Brief PFX parser</span>
00297 <span class="comment">****************************************************************************/</span>
<a name="l00298"></a><a class="code" href="classCPVRTPFXParser.html">00298</a> <span class="keyword">class </span><a class="code" href="classCPVRTPFXParser.html">CPVRTPFXParser</a>
00299 {
00300 <span class="keyword">public</span>:
00301     <span class="comment">/*!***************************************************************************</span>
00302 <span class="comment">    @Function           CPVRTPFXParser</span>
00303 <span class="comment">    @Description        Sets initial values.</span>
00304 <span class="comment">    *****************************************************************************/</span>
00305     <a class="code" href="classCPVRTPFXParser.html#a0">CPVRTPFXParser</a>();
00306 
00307     <span class="comment">/*!***************************************************************************</span>
00308 <span class="comment">    @Function           ~CPVRTPFXParser</span>
00309 <span class="comment">    @Description        Frees memory used.</span>
00310 <span class="comment">    *****************************************************************************/</span>
00311     <a class="code" href="classCPVRTPFXParser.html#a1">~CPVRTPFXParser</a>();
00312 
00313     <span class="comment">/*!***************************************************************************</span>
00314 <span class="comment">    @Function           ParseFromMemory</span>
00315 <span class="comment">    @Input              pszScript       PFX script</span>
00316 <span class="comment">    @Output             pReturnError    error string</span>
00317 <span class="comment">    @Return             PVR_SUCCESS for success parsing file</span>
00318 <span class="comment">                        PVR_FAIL if file doesn't exist or is invalid</span>
00319 <span class="comment">    @Description        Parses a PFX script from memory.</span>
00320 <span class="comment">    *****************************************************************************/</span>
00321     <a class="code" href="PVRTError_8h.html#a5">EPVRTError</a> <a class="code" href="classCPVRTPFXParser.html#a2">ParseFromMemory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszScript, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00322 
00323     <span class="comment">/*!***************************************************************************</span>
00324 <span class="comment">    @Function           ParseFromFile</span>
00325 <span class="comment">    @Input              pszFileName     PFX file name</span>
00326 <span class="comment">    @Output             pReturnError    error string</span>
00327 <span class="comment">    @Return             PVR_SUCCESS for success parsing file</span>
00328 <span class="comment">                        PVR_FAIL if file doesn't exist or is invalid</span>
00329 <span class="comment">    @Description        Reads the PFX file and calls the parser.</span>
00330 <span class="comment">    *****************************************************************************/</span>
00331     <a class="code" href="PVRTError_8h.html#a5">EPVRTError</a> <a class="code" href="classCPVRTPFXParser.html#a3">ParseFromFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszFileName, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00332 
00333     <span class="comment">/*!***************************************************************************</span>
00334 <span class="comment">     @Function          SetViewportSize</span>
00335 <span class="comment">     @Input             uiWidth             New viewport width</span>
00336 <span class="comment">     @Input             uiHeight            New viewport height</span>
00337 <span class="comment">     @Return            bool                True on success             </span>
00338 <span class="comment">     @Description       Allows the current viewport size to be set. This value</span>
00339 <span class="comment">                        is used for calculating relative texture resolutions                        </span>
00340 <span class="comment">    *****************************************************************************/</span>
00341     <span class="keywordtype">bool</span> <a class="code" href="classCPVRTPFXParser.html#a4">SetViewportSize</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiWidth, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiHeight);
00342 
00343     <span class="comment">/*!***************************************************************************</span>
00344 <span class="comment">    @Function       FindTextureIndex</span>
00345 <span class="comment">    @Input          TextureName     The name of the texture to find</span>
00346 <span class="comment">    @Input          uiEffect        The effect block to look for the texture in</span>
00347 <span class="comment">    @Return         Index in to the effect.Texture array.</span>
00348 <span class="comment">    @Description    Returns the index in to the texture array within the effect </span>
00349 <span class="comment">                    block where the given texture resides.</span>
00350 <span class="comment">    *****************************************************************************/</span>
00351     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a5">FindTextureIndex</a>(<span class="keyword">const</span> <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>&amp; TextureName, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiEffect) <span class="keyword">const</span>;
00352     
00353     <span class="comment">/*!***************************************************************************</span>
00354 <span class="comment">    @Function           RetrieveRenderPassDependencies</span>
00355 <span class="comment">    @Output             aRequiredRenderPasses   Dynamic array of required render passes</span>
00356 <span class="comment">    @Input              aszActiveEffectStrings  Dynamic array containing names of active</span>
00357 <span class="comment">                                                effects in the application</span>
00358 <span class="comment">    @Return             success of failure</span>
00359 <span class="comment">    @Description        Takes an array of strings containing the names of active</span>
00360 <span class="comment">                        effects for this PFX in a given application and then outputs</span>
00361 <span class="comment">                        an array of the render passes the application needs to perform that is sorted</span>
00362 <span class="comment">                        into the order they need to be executed (where [0] is the first to be executed,</span>
00363 <span class="comment">                        and [n] is the last).</span>
00364 <span class="comment">                        In addition to determining the order of dependent passes</span>
00365 <span class="comment">                        (such as POSTPROCESS render passes), this function should check if</span>
00366 <span class="comment">                        CAMERA passes are referenced by active EFFECT blocks and use this information</span>
00367 <span class="comment">                        to strip redundant passes.</span>
00368 <span class="comment">    *****************************************************************************/</span>
00369     <span class="keywordtype">bool</span> <a class="code" href="classCPVRTPFXParser.html#a6">RetrieveRenderPassDependencies</a>(<a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXRenderPass*&gt;</a> &amp;aRequiredRenderPasses,
00370                                         <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTStringHash&gt;</a> &amp;aszActiveEffectStrings);
00371 
00372     <span class="comment">/*!***************************************************************************</span>
00373 <span class="comment">    @Function       GetNumberRenderPasses</span>
00374 <span class="comment">    @Return         The number of render passes required</span>
00375 <span class="comment">    @Description    Returns the number of render passes within this PFX.</span>
00376 <span class="comment">    *****************************************************************************/</span>
00377     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a7">GetNumberRenderPasses</a>() <span class="keyword">const</span>;
00378 
00379     <span class="comment">/*!***************************************************************************</span>
00380 <span class="comment">    @Function       GetNumberRenderPasses</span>
00381 <span class="comment">    @Input          uiIndex             The render pass index.</span>
00382 <span class="comment">    @Return         A given render pass.</span>
00383 <span class="comment">    @Description    Returns the given render pass.</span>
00384 <span class="comment">    *****************************************************************************/</span>
00385     <span class="keyword">const</span> <a class="code" href="structSPVRTPFXRenderPass.html">SPVRTPFXRenderPass</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a8">GetRenderPass</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex) <span class="keyword">const</span>;
00386 
00387     <span class="comment">/*!***************************************************************************</span>
00388 <span class="comment">    @Function       GetNumberFragmentShaders</span>
00389 <span class="comment">    @Return         Number of fragment shaders.</span>
00390 <span class="comment">    @Description    Returns the number of fragment shaders referenced in the PFX.</span>
00391 <span class="comment">    *****************************************************************************/</span>
00392     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a9">GetNumberFragmentShaders</a>() <span class="keyword">const</span>;
00393 
00394     <span class="comment">/*!***************************************************************************</span>
00395 <span class="comment">    @Function       GetFragmentShader</span>
00396 <span class="comment">    @Input          uiIndex     The index of this shader.</span>
00397 <span class="comment">    @Return         The PFX fragment shader.</span>
00398 <span class="comment">    @Description    Returns a given fragment shader.</span>
00399 <span class="comment">    *****************************************************************************/</span>
00400     <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a10">GetFragmentShader</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex);
00401 
00402     <span class="comment">/*!***************************************************************************</span>
00403 <span class="comment">    @Function       GetNumberVertexShaders</span>
00404 <span class="comment">    @Return         Number of vertex shaders.</span>
00405 <span class="comment">    @Description    Returns the number of vertex shaders referenced in the PFX.</span>
00406 <span class="comment">    *****************************************************************************/</span>
00407     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a11">GetNumberVertexShaders</a>() <span class="keyword">const</span>;
00408 
00409     <span class="comment">/*!***************************************************************************</span>
00410 <span class="comment">    @Function       GetVertexShader</span>
00411 <span class="comment">    @Input          uiIndex     The index of this shader.</span>
00412 <span class="comment">    @Return         The PFX vertex shader.</span>
00413 <span class="comment">    @Description    Returns a given vertex shader.</span>
00414 <span class="comment">    *****************************************************************************/</span>
00415     <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a12">GetVertexShader</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex);
00416  
00417     <span class="comment">/*!***************************************************************************</span>
00418 <span class="comment">    @Function       GetNumberEffects</span>
00419 <span class="comment">    @Return         Number of effects.</span>
00420 <span class="comment">    @Description    Returns the number of effects referenced in the PFX.</span>
00421 <span class="comment">    *****************************************************************************/</span>
00422     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a13">GetNumberEffects</a>() <span class="keyword">const</span>;
00423 
00424     <span class="comment">/*!***************************************************************************</span>
00425 <span class="comment">    @Function       GetEffect</span>
00426 <span class="comment">    @Input          uiIndex     The index of this effect.</span>
00427 <span class="comment">    @Return         The PFX effect.</span>
00428 <span class="comment">    @Description    Returns a given effect.</span>
00429 <span class="comment">    *****************************************************************************/</span>
00430     <span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a14">GetEffect</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex) <span class="keyword">const</span>;
00431 
00432     <span class="comment">/*!***************************************************************************</span>
00433 <span class="comment">    @Function       FindEffectByName</span>
00434 <span class="comment">    @Input          Name        Name of the effect.</span>
00435 <span class="comment">    @Return         int </span>
00436 <span class="comment">    @Description    Returns the index of the given string. Returns -1 on failure.</span>
00437 <span class="comment">    *****************************************************************************/</span>
00438     <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a15">FindEffectByName</a>(<span class="keyword">const</span> <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>&amp; Name) <span class="keyword">const</span>;
00439 
00440     <span class="comment">/*!***************************************************************************</span>
00441 <span class="comment">    @Function       FindTextureByName</span>
00442 <span class="comment">    @Input          Name        Name of the texture.</span>
00443 <span class="comment">    @Return         int </span>
00444 <span class="comment">    @Description    Returns the index of the given texture. Returns -1 on failure.</span>
00445 <span class="comment">    *****************************************************************************/</span>
00446     <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a16">FindTextureByName</a>(<span class="keyword">const</span> <a class="code" href="classCPVRTStringHash.html">CPVRTStringHash</a>&amp; Name) <span class="keyword">const</span>;
00447 
00448     <span class="comment">/*!***************************************************************************</span>
00449 <span class="comment">    @Function       GetNumberTextures</span>
00450 <span class="comment">    @Return         Number of effects.</span>
00451 <span class="comment">    @Description    Returns the number of textures referenced in the PFX.</span>
00452 <span class="comment">    *****************************************************************************/</span>
00453     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classCPVRTPFXParser.html#a17">GetNumberTextures</a>() <span class="keyword">const</span>;
00454 
00455     <span class="comment">/*!***************************************************************************</span>
00456 <span class="comment">    @Function       GetTexture</span>
00457 <span class="comment">    @Input          uiIndex     The index of this texture</span>
00458 <span class="comment">    @Return         The PFX texture.</span>
00459 <span class="comment">    @Description    Returns a given texture.</span>
00460 <span class="comment">    *****************************************************************************/</span>
00461     <span class="keyword">const</span> <a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>* <a class="code" href="classCPVRTPFXParser.html#a18">GetTexture</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiIndex) <span class="keyword">const</span>;
00462 
00463     <span class="comment">/*!***************************************************************************</span>
00464 <span class="comment">    @Function       GetPFXFileName</span>
00465 <span class="comment">    @Return         The filename for this PFX file</span>
00466 <span class="comment">    @Description    Returns the PFX file name associated with this object.</span>
00467 <span class="comment">    *****************************************************************************/</span>
00468     <span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a19">GetPFXFileName</a>() <span class="keyword">const</span>;
00469 
00470     <span class="comment">/*!***************************************************************************</span>
00471 <span class="comment">    @Function       GetPostProcessNames</span>
00472 <span class="comment">    @Return         An array of post process names</span>
00473 <span class="comment">    @Description    Returns a list of prost process effect names.</span>
00474 <span class="comment">    *****************************************************************************/</span>
00475     <span class="keyword">const</span> <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTString&gt;</a>&amp; <a class="code" href="classCPVRTPFXParser.html#a20">GetPostProcessNames</a>() <span class="keyword">const</span>;
00476 
00477 <span class="keyword">public</span>:
00478     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                           <a class="code" href="classCPVRTPFXParser.html#s0">VIEWPORT_SIZE</a>;
00479         
00480 <span class="keyword">private</span>:    
00481     <a class="code" href="structSPVRTPFXParserHeader.html">SPVRTPFXParserHeader</a>                                m_sHeader;
00482 
00483     <a class="code" href="classCPVRTArrayManagedPointers.html">CPVRTArrayManagedPointers&lt;SPVRTPFXParserTexture&gt;</a>    m_psTexture;
00484     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserShader&gt;</a>                    m_psFragmentShader;
00485     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserShader&gt;</a>                    m_psVertexShader;
00486     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXParserEffect&gt;</a>                    m_psEffect;
00487     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXRenderPass&gt;</a>                      m_RenderPasses;
00488 
00489     <a class="code" href="classCPVRTString.html">CPVRTString</a>                                         m_szFileName;
00490     CPVRTPFXParserReadContext*                          m_psContext;
00491     <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTString&gt;</a>                             m_aszPostProcessNames;
00492     
00493     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                                        m_uiViewportWidth;
00494     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                                        m_uiViewportHeight;
00495     <a class="code" href="classCPVRTSkipGraphRoot.html">CPVRTSkipGraphRoot&lt;SPVRTPFXRenderPass*&gt;</a>             m_renderPassSkipGraph;
00496 
00497     <span class="comment">/*!***************************************************************************</span>
00498 <span class="comment">    @Function           Parse</span>
<a name="l00499"></a><a class="code" href="classCPVRTPFXParser.html#s0">00499</a> <span class="comment">    @Output             pReturnError    error string</span>
00500 <span class="comment">    @Return             true for success parsing file</span>
00501 <span class="comment">    @Description        Parses a loaded PFX file.</span>
00502 <span class="comment">    *****************************************************************************/</span>
00503     <span class="keywordtype">bool</span> Parse( <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00504 
00505     <span class="comment">/*!***************************************************************************</span>
00506 <span class="comment">    @Function           ReduceWhitespace</span>
00507 <span class="comment">    @Output             line        output text</span>
00508 <span class="comment">    @Description        Reduces all white space characters in the string to one</span>
00509 <span class="comment">                        blank space.</span>
00510 <span class="comment">    *****************************************************************************/</span>
00511     <span class="keywordtype">void</span> ReduceWhitespace(<span class="keywordtype">char</span> *line);
00512 
00513     <span class="comment">/*!***************************************************************************</span>
00514 <span class="comment">    @Function           GetEndTag</span>
00515 <span class="comment">    @Input              pszTagName      tag name</span>
00516 <span class="comment">    @Input              nStartLine      start line</span>
00517 <span class="comment">    @Output             pnEndLine       line end tag found</span>
00518 <span class="comment">    @Return             true if tag found</span>
00519 <span class="comment">    @Description        Searches for end tag pszTagName from line nStartLine.</span>
00520 <span class="comment">                        Returns true and outputs the line number of the end tag if</span>
00521 <span class="comment">                        found, otherwise returning false.</span>
00522 <span class="comment">    *****************************************************************************/</span>
00523     <span class="keywordtype">bool</span> GetEndTag(<span class="keyword">const</span> <span class="keywordtype">char</span> *pszTagName, <span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> *pnEndLine);
00524 
00525     <span class="comment">/*!***************************************************************************</span>
00526 <span class="comment">     @Function          ReturnParameter</span>
00527 <span class="comment">     @Output            aszSourceString     The string to search</span>
00528 <span class="comment">     @Input             parameterTag        The tag to find</span>
00529 <span class="comment">     @Input             delimiter           Delimiters</span>
00530 <span class="comment">     @Return            Found parameter or empty string</span>
00531 <span class="comment">     @Description       Finds the parameter after the specified delimiting character and</span>
00532 <span class="comment">                        returns the parameter as a string. An empty string is returned</span>
00533 <span class="comment">                        if a parameter cannot be found</span>
00534 <span class="comment">                        </span>
00535 <span class="comment">    *****************************************************************************/</span>
00536     <a class="code" href="classCPVRTString.html">CPVRTString</a> FindParameter(<span class="keywordtype">char</span> *aszSourceString, <span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a> &amp;parameterTag, <span class="keyword">const</span> <a class="code" href="classCPVRTString.html">CPVRTString</a> &amp;delimiter);
00537 
00538     <span class="comment">/*!***************************************************************************</span>
00539 <span class="comment">     @Function          ReadStringToken</span>
00540 <span class="comment">     @Input             pszSource           Parameter string to process</span>
00541 <span class="comment">     @Output            output              Processed string</span>
00542 <span class="comment">     @Output            ErrorStr            String containing errors</span>
00543 <span class="comment">     @Input             iLine               The line to read</span>
00544 <span class="comment">     @Input             pCaller             The caller's name or identifier</span>
00545 <span class="comment">     @Return            Returns true on success</span>
00546 <span class="comment">     @Description       Processes the null terminated char array as if it's a</span>
00547 <span class="comment">                        formatted string array. Quote marks are determined to be</span>
00548 <span class="comment">                        start and end of strings. If no quote marks are found the</span>
00549 <span class="comment">                        string is delimited by whitespace.</span>
00550 <span class="comment">    *****************************************************************************/</span>
00551     <span class="keywordtype">bool</span> ReadStringToken(<span class="keywordtype">char</span>* pszSource, <a class="code" href="classCPVRTString.html">CPVRTString</a>&amp; output, <a class="code" href="classCPVRTString.html">CPVRTString</a> &amp;ErrorStr, <span class="keywordtype">int</span> iLine, <span class="keyword">const</span> <span class="keywordtype">char</span>* pCaller);
00552 
00553     <span class="comment">/*!***************************************************************************</span>
00554 <span class="comment">    @Function           ParseHeader</span>
00555 <span class="comment">    @Input              nStartLine      start line number</span>
00556 <span class="comment">    @Input              nEndLine        end line number</span>
00557 <span class="comment">    @Output             pReturnError    error string</span>
00558 <span class="comment">    @Return             true if parse is successful</span>
00559 <span class="comment">    @Description        Parses the HEADER section of the PFX file.</span>
00560 <span class="comment">    *****************************************************************************/</span>
00561     <span class="keywordtype">bool</span> ParseHeader(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00562 
00563     <span class="comment">/*!***************************************************************************</span>
00564 <span class="comment">    @Function           ParseTextures       ** DEPRECATED **</span>
00565 <span class="comment">    @Input              nStartLine      start line number</span>
00566 <span class="comment">    @Input              nEndLine        end line number</span>
00567 <span class="comment">    @Output             pReturnError    error string</span>
00568 <span class="comment">    @Return             true if parse is successful</span>
00569 <span class="comment">    @Description        Parses the TEXTURES section of the PFX file.</span>
00570 <span class="comment">                        This style is deprecated but remains for backwards</span>
00571 <span class="comment">                        compatibility.</span>
00572 <span class="comment">    *****************************************************************************/</span>
00573     <span class="keywordtype">bool</span> ParseTextures(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00574 
00575     <span class="comment">/*!***************************************************************************</span>
00576 <span class="comment">    @Function           ParseTexture</span>
00577 <span class="comment">    @Input              nStartLine      start line number</span>
00578 <span class="comment">    @Input              nEndLine        end line number</span>
00579 <span class="comment">    @Output             pReturnError    error string</span>
00580 <span class="comment">    @Return             true if parse is successful</span>
00581 <span class="comment">    @Description        Parses the TEXTURE section of the PFX file.</span>
00582 <span class="comment">    *****************************************************************************/</span>
00583     <span class="keywordtype">bool</span> ParseTexture(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00584 
00585     <span class="comment">/*!***************************************************************************</span>
00586 <span class="comment">    @Function           ParseTarget</span>
00587 <span class="comment">    @Input              nStartLine      start line number</span>
00588 <span class="comment">    @Input              nEndLine        end line number</span>
00589 <span class="comment">    @Output             pReturnError    error string</span>
00590 <span class="comment">    @Return             true if parse is successful</span>
00591 <span class="comment">    @Description        Parses the TARGET section of the PFX file.</span>
00592 <span class="comment">    *****************************************************************************/</span>
00593     <span class="keywordtype">bool</span> ParseTarget(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00594 
00595     <span class="comment">/*!***************************************************************************</span>
00596 <span class="comment">    @Function           ParseGenericSurface</span>
00597 <span class="comment">    @Input              nStartLine      start line number</span>
00598 <span class="comment">    @Input              nEndLine        end line number</span>
00599 <span class="comment">    @Output             Params          Structure containing PFXTexture parameters</span>
00600 <span class="comment">    @Output             KnownCmds       An array of unknown commands for the caller</span>
00601 <span class="comment">                                        to check.</span>
00602 <span class="comment">    @Input              pCaller         The caller's description for error messages.</span>
00603 <span class="comment">    @Output             pReturnError    error string</span>
00604 <span class="comment">    @Return             true if parse is successful</span>
00605 <span class="comment">    @Description        Parses generic data from TARGET and TEXTURE blocks. Namely</span>
00606 <span class="comment">                        wrapping and filter commands.</span>
00607 <span class="comment">    *****************************************************************************/</span>
00608     <span class="keywordtype">bool</span> ParseGenericSurface(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="structSPVRTPFXParserTexture.html">SPVRTPFXParserTexture</a>&amp; Params, <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;CPVRTHash&gt;</a>&amp; KnownCmds, 
00609                              <span class="keyword">const</span> <span class="keywordtype">char</span>* pCaller, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00610 
00611     <span class="comment">/*!***************************************************************************</span>
00612 <span class="comment">    @Function           ParseShader</span>
00613 <span class="comment">    @Input              nStartLine      start line number</span>
00614 <span class="comment">    @Input              nEndLine        end line number</span>
00615 <span class="comment">    @Output             pReturnError    error string</span>
00616 <span class="comment">    @Output             shader          shader data object</span>
00617 <span class="comment">    @Input              pszBlockName    name of block in PFX file</span>
00618 <span class="comment">    @Return             true if parse is successful</span>
00619 <span class="comment">    @Description        Parses the VERTEXSHADER or FRAGMENTSHADER section of the</span>
00620 <span class="comment">                        PFX file.</span>
00621 <span class="comment">    *****************************************************************************/</span>
00622     <span class="keywordtype">bool</span> ParseShader(<span class="keywordtype">int</span> nStartLine, <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> *pReturnError, <a class="code" href="structSPVRTPFXParserShader.html">SPVRTPFXParserShader</a> &amp;shader, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszBlockName);
00623 
00624     <span class="comment">/*!***************************************************************************</span>
00625 <span class="comment">    @Function           ParseSemantic</span>
00626 <span class="comment">    @Output             semantic        semantic data object</span>
00627 <span class="comment">    @Input              nStartLine      start line number</span>
00628 <span class="comment">    @Output             pReturnError    error string</span>
00629 <span class="comment">    @Return             true if parse is successful</span>
00630 <span class="comment">    @Description        Parses a semantic.</span>
00631 <span class="comment">    *****************************************************************************/</span>
00632     <span class="keywordtype">bool</span> ParseSemantic(<a class="code" href="structSPVRTPFXParserSemantic.html">SPVRTPFXParserSemantic</a> &amp;semantic, <span class="keyword">const</span> <span class="keywordtype">int</span> nStartLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00633 
00634     <span class="comment">/*!***************************************************************************</span>
00635 <span class="comment">    @Function           ParseEffect</span>
00636 <span class="comment">    @Output             effect          effect data object</span>
00637 <span class="comment">    @Input              nStartLine      start line number</span>
00638 <span class="comment">    @Input              nEndLine        end line number</span>
00639 <span class="comment">    @Output             pReturnError    error string</span>
00640 <span class="comment">    @Return             true if parse is successful</span>
00641 <span class="comment">    @Description        Parses the EFFECT section of the PFX file.</span>
00642 <span class="comment">    *****************************************************************************/</span>
00643     <span class="keywordtype">bool</span> ParseEffect(<a class="code" href="structSPVRTPFXParserEffect.html">SPVRTPFXParserEffect</a> &amp;effect, <span class="keyword">const</span> <span class="keywordtype">int</span> nStartLine, <span class="keyword">const</span> <span class="keywordtype">int</span> nEndLine, <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00644 
00645     <span class="comment">/*!***************************************************************************</span>
00646 <span class="comment">    @Function       ParseTextureFlags</span>
00647 <span class="comment">    @Input          c_pszRemainingLine      Pointer to the remaining string</span>
00648 <span class="comment">    @Output         ppFlagsOut              Resultant flags set</span>
00649 <span class="comment">    @Input          uiNumFlags              Number of flags to set</span>
00650 <span class="comment">    @Input          c_ppszFlagNames         Flag names          </span>
00651 <span class="comment">    @Input          uiNumFlagNames          Number of flag names</span>
00652 <span class="comment">    @Input          pReturnError            Return error to set</span>
00653 <span class="comment">    @Input          iLineNum                The line number for error reporting</span>
00654 <span class="comment">    @Return         true if successful</span>
00655 <span class="comment">    @Description    Parses the texture flag sections.</span>
00656 <span class="comment">    *****************************************************************************/</span>
00657     <span class="keywordtype">bool</span> ParseTextureFlags( <span class="keyword">const</span> <span class="keywordtype">char</span>* c_pszRemainingLine, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>** ppFlagsOut, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiNumFlags, <span class="keyword">const</span> <span class="keywordtype">char</span>** c_ppszFlagNames, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uiNumFlagNames, 
00658                             <a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError, <span class="keywordtype">int</span> iLineNum);
00659     <span class="comment">/*!***************************************************************************</span>
00660 <span class="comment">     @Function      DetermineRenderPassDependencies</span>
00661 <span class="comment">     @Output            pReturnError</span>
00662 <span class="comment">     @Return        True if dependency tree is valid. False if there are errors</span>
00663 <span class="comment">                    in the dependency tree (e.g. recursion)</span>
00664 <span class="comment">     @Description   Looks through all of the effects in the .pfx and determines</span>
00665 <span class="comment">                    the order of render passes that have been declared with</span>
00666 <span class="comment">                    the RENDER tag (found in [TEXTURES]. </span>
00667 <span class="comment">    *****************************************************************************/</span>
00668     <span class="keywordtype">bool</span> DetermineRenderPassDependencies(<a class="code" href="classCPVRTString.html">CPVRTString</a> * <span class="keyword">const</span> pReturnError);
00669 
00670     <span class="comment">/*!***************************************************************************</span>
00671 <span class="comment">     @Function      AddRenderPassNodeDependancies</span>
00672 <span class="comment">     @Input         aRequiredRenderPasses</span>
00673 <span class="comment">     @Input         renderPassNode</span>
00674 <span class="comment">     @Description   Recursively look through dependencies until leaf nodes are</span>
00675 <span class="comment">                    encountered. At this point, add a given leaf node to the</span>
00676 <span class="comment">                    aRequiredRenderPasses array and return. Repeat this process</span>
00677 <span class="comment">                    until all dependencies are added to the array.</span>
00678 <span class="comment">    *****************************************************************************/</span>
00679     <span class="keywordtype">void</span> AddRenderPassNodeDependencies( <a class="code" href="classCPVRTArray.html">CPVRTArray&lt;SPVRTPFXRenderPass*&gt;</a> &amp;aRequiredRenderPasses,
00680                                         <a class="code" href="classCPVRTSkipGraphNode.html">CPVRTSkipGraphNode&lt;SPVRTPFXRenderPass*&gt;</a> &amp;renderPassNode);
00681 };
00682 
00683 
00684 <span class="preprocessor">#endif </span><span class="comment">/* _PVRTPFXPARSER_H_ */</span>
00685 
00686 <span class="comment">/*****************************************************************************</span>
00687 <span class="comment"> End of file (PVRTPFXParser.h)</span>
00688 <span class="comment">*****************************************************************************/</span>
00689 
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A>  
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
